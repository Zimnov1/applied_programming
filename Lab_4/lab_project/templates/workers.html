{% extends "index.html" %}

{% block content %}
<h1>Workers</h1>
<form action="{% url 'add_worker' %}" method="post">
    {% csrf_token %}
    <input type="text" name="name" placeholder="Name" required>
    <input type="text" name="surname" placeholder="Surname" required>
    <input type="text" name="phone_number" placeholder="Phone Number" required>
    <input type="text" name="city_of_residence" placeholder="City of Residence" required>
    <input type="text" name="street" placeholder="Street" required>
    <input type="text" name="position" placeholder="Position" required>
    <button type="submit">Add Worker</button>
</form>
<ul>
    {% for worker in workers %}
    <li>
        {{ worker.name }} {{ worker.surname }} - Phone: {{ worker.phone_number }}, City: {{ worker.city_of_residence }}, Street: {{ worker.street }}, Position: {{ worker.position }}
        <a href="{% url 'edit_worker' worker_id=worker.id %}">Edit</a>
        <a href="{% url 'delete_worker' worker_id=worker.id %}" onclick="return confirm('Are you sure you want to delete this worker?');">Delete</a>
    </li>
    {% endfor %}
</ul>
{% endblock %}
